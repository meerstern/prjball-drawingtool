# prjball-drawingtool

Drawing Tool for ProjectionBall.  
This tool help you making vector data from GUI.  





WindowsPC上でマウスとキーボード操作でProjectionBall用の描画データを作成するソフトウェアです。        
画面上のマウスクリックで座標を配置することで、好きな図形のベクトルデータを作成することができます。  
座標データはpbsファイルで保存され、csvファイルとしてエクスポートしたデータを描画データとして使用します。  
csvファイルは座標中心を原点(x,y)=(0,0)として最大±300の座標データとして出力されます。      
  
  
背景を読み込んで背景に沿って点を配置することが可能です。  
点と点の間を補間して出力することが可能です。  
動作環境は.NetFramework4.5以降インストール済みPCです。  
インストーラ不要でPBS2.exeをダブルクリックで起動します。  


![PBS実行](http://meerstern.up.seesaa.net/image/pbs-a24ec.png "PBS実行")




## 描画データ作成方法
  * ソフトウェアを起動させてください。
  * 左クリックで新しい座標を配置し、好きな図形を作成してください。
  * 逆に削除する場合は右クリックで座標を削除できます。
  * 曲線部や複雑な図形は座標を細かく配置してください。
  * また、開始点と終了点が近い位置になるように設定してください。
  * 完成したら、「ファイル」→「名前を付けて保存」→「pbsファイル」として保存します。
  * 「ファイル」→「csvエクスポート」→「data0.csv」を選択し、エクスポートします。
  * 「data0.csv」ファイルをSDカードに保存し、SW2下、SW3下、SW4上、SW5上にセットし、電源を入れると図形が描画されます。
  * 注意 pbsファイルをSDカードに保存しても描画できません。
  * csvファイルをエクスポートしてSDカードに保存してください。


## 留意点
  * リピート数が大きくなると精度は上がりますがフレームレートが荒くなります。
  * 逆にリピート数が小さいと精度は悪くなりますが、フレームレートは上がります。
  * リピート数5が標準で複雑な図形の場合は8~12に設定します。逆に簡単な図形の場合はリピート数を3~5に設定します。
  * 途中の座標を移動させたい場合は「Ctrl」キーを押しながら移動させたい座標部分をドラッグしてください。
  * 新しく座標を配置する場合、「Shift」キーを押しながら左クリックすると、レーザーOFFモードで座標が配置されます。
  * 開始点と終了点が近い位置にできない場合は、終了点が開始点付近になるように消灯の座標を配置してください。
  * 描画したい図形の画像ファイルがある場合は「編集」→「背景読込」で背景を配置します。
  * 背景サイズが合わない場合は画像ファイルを「ペイント」等で編集してリサイズしてください。
  * 描画座標数が200点を超えるメッセージが出た場合は座標数を減らすか、間隔を初期値の10から20など大きな値に設定してください。



## 出力CSVファイル仕様
  * 最初の1行目は描画定義を行う数値です。
  * 1行目1列はリピート数です。1行目の2列、3列は0が記入されます。
  * リピート数5が標準で複雑な図形の場合は8~12に設定します。簡単な図形の場合はリピート数を3~5に設定します。
  * リピート数が大きくなると精度は上がりますがフレームレートが荒くなります。
  * リピート数が小さいと精度は悪くなりますが、フレームレートは上がります。
  * 2行目から座標データを半角数字で入力します。
  * 1列目がレーザー点灯有無で0が消灯、1が点灯です。
  * 2列目はX座標、3列目はY座標です。 
  * 座標は(0,0)を中心として±300の座標データとなります。
  * 描画がスタートすると2行目から3行目、4行目と順番にレーザー光が移動します。
  * 空欄を見つけると最後のデータとして判断し、2行目に戻り再度描画を開始します。



###コンパイル済みは[こちら][実行ファイル]からダウンロードしてください。








[実行ファイル]: http://projectionball.jp/share/PBS.zip "実行ファイル"
